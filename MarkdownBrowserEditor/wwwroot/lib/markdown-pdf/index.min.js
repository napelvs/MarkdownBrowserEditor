/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/markdown-pdf@10.0.0/index.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var fs=require("fs"),path=require("path"),childProcess=require("child_process"),through=require("through2"),extend=require("extend"),{Remarkable:Remarkable}=require("remarkable"),hljs=require("highlight.js"),tmp=require("tmp"),duplexer=require("duplexer"),streamft=require("stream-from-to");function markdownpdf(e){(e=e||{}).cwd=e.cwd?path.resolve(e.cwd):process.cwd(),e.phantomPath=e.phantomPath||require("phantomjs-prebuilt").path,e.runningsPath=e.runningsPath?path.resolve(e.runningsPath):path.join(__dirname,"runnings.js"),e.cssPath=e.cssPath?path.resolve(e.cssPath):path.join(__dirname,"css","pdf.css"),e.highlightCssPath=e.highlightCssPath?path.resolve(e.highlightCssPath):path.join(__dirname,"css","highlight.css"),e.paperFormat=e.paperFormat||"A4",e.paperOrientation=e.paperOrientation||"portrait",e.paperBorder=e.paperBorder||"2cm",e.renderDelay=null==e.renderDelay?0:e.renderDelay,e.loadTimeout=null==e.loadTimeout?1e4:e.loadTimeout,e.preProcessMd=e.preProcessMd||function(){return through()},e.preProcessHtml=e.preProcessHtml||function(){return through()},e.remarkable=extend({breaks:!0},e.remarkable),e.remarkable.preset=e.remarkable.preset||"default",e.remarkable.plugins=e.remarkable.plugins||[],e.remarkable.syntax=e.remarkable.syntax||[];var r="",t=through(function(e,t,a){r+=e,a()},function(t){var a=new Remarkable(e.remarkable.preset,extend({highlight:function(e,r){if(r&&hljs.getLanguage(r))try{return hljs.highlight(r,e).value}catch(e){}try{return hljs.highlightAuto(e).value}catch(e){}return""}},e.remarkable));e.remarkable.plugins.forEach(function(e){e&&"function"==typeof e&&a.use(e)}),e.remarkable.syntax.forEach(function(e){try{a.core.ruler.enable([e])}catch(e){}try{a.block.ruler.enable([e])}catch(e){}try{a.inline.ruler.enable([e])}catch(e){}}),this.push(a.render(r)),this.push(null)}),a=through(),n=through();return a.pause(),tmp.file({postfix:".html"},function(r,i,s){if(r)return n.emit("error",r);fs.closeSync(s),tmp.file({postfix:".pdf"},function(r,s,h){if(r)return n.emit("error",r);fs.closeSync(h);var o=fs.createWriteStream(i);o.on("finish",function(){var r=[path.join(__dirname,"phantom","render.js"),i,s,e.cwd,e.runningsPath,e.cssPath,e.highlightCssPath,e.paperFormat,e.paperOrientation,"object"==typeof e.paperBorder?JSON.stringify(e.paperBorder):e.paperBorder,e.renderDelay,e.loadTimeout];childProcess.execFile(e.phantomPath,r,function(e,r,t){if(e)return n.emit("error",e);fs.createReadStream(s).pipe(n)})}),a.pipe(e.preProcessMd()).pipe(t).pipe(e.preProcessHtml()).pipe(o),a.resume()})}),extend(duplexer(a,n),streamft(function(){return markdownpdf(e)}))}tmp.setGracefulCleanup(),module.exports=markdownpdf;
//# sourceMappingURL=/sm/ed4484e3f6127ab00d5aba41b3c82774d06c4765195ebdea5830d3006fa83d8f.map